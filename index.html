<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CloneGallery - Professional Image Management</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <div class="logo">
                <i class="fas fa-camera-retro"></i>
                <h1>CloneGallery</h1>
            </div>
            <div class="loading-spinner"></div>
            <p>Loading your gallery...</p>
        </div>
    </div>

    <!-- Login Screen -->
    <div id="login-screen" class="auth-screen hidden">
        <div class="auth-container">
            <div class="auth-header">
                <div class="logo">
                    <i class="fas fa-camera-retro"></i>
                    <h1>CloneGallery</h1>
                </div>
                <p>Professional Image Management Platform</p>
            </div>
            
            <div class="auth-form">
                <h2 id="auth-title">Sign In</h2>
                
                <!-- Login Form -->
                <form id="login-form">
                    <div class="form-group">
                        <label class="form-label" for="email">Email</label>
                        <input type="email" id="email" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="password">Password</label>
                        <input type="password" id="password" class="form-control" required>
                    </div>
                    <button type="submit" class="btn btn--primary btn--full-width">Sign In</button>
                </form>
                
                <!-- Register Form -->
                <form id="register-form" class="hidden">
                    <div class="form-group">
                        <label class="form-label" for="reg-name">Full Name</label>
                        <input type="text" id="reg-name" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="reg-username">Username</label>
                        <input type="text" id="reg-username" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="reg-email">Email</label>
                        <input type="email" id="reg-email" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="reg-password">Password</label>
                        <input type="password" id="reg-password" class="form-control" required minlength="8">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="reg-confirm-password">Confirm Password</label>
                        <input type="password" id="reg-confirm-password" class="form-control" required minlength="8">
                    </div>
                    <button type="submit" class="btn btn--primary btn--full-width">Create Account</button>
                </form>
                
                <!-- Auth Mode Toggle -->
                <div class="auth-mode-toggle">
                    <p id="auth-mode-text">Don't have an account?</p>
                    <button type="button" class="btn btn--outline btn--sm" id="auth-mode-switch">Create Account</button>
                </div>
                
                <div class="demo-accounts">
                    <h3>Demo Accounts</h3>
                    <div class="demo-buttons">
                        <button class="btn btn--outline btn--sm" data-role="admin">Admin Demo</button>
                        <button class="btn btn--outline btn--sm" data-role="editor">Editor Demo</button>
                        <button class="btn btn--outline btn--sm" data-role="visitor">Visitor Demo</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Application -->
    <div id="main-app" class="hidden">
        <!-- Navigation -->
        <nav class="navbar">
            <div class="nav-content">
                <div class="nav-brand">
                    <i class="fas fa-camera-retro"></i>
                    <span>CloneGallery</span>
                </div>
                
                <div class="nav-search">
                    <div class="search-container">
                        <i class="fas fa-search"></i>
                        <input type="text" id="main-search" placeholder="Search images, tags, or users...">
                        <div class="search-suggestions" id="search-suggestions"></div>
                    </div>
                </div>
                
                <div class="nav-actions">
                    <button class="btn btn--outline btn--sm" id="theme-toggle">
                        <i class="fas fa-moon"></i>
                    </button>
                    <div class="user-menu">
                        <button class="user-avatar" id="user-menu-btn">
                            <img src="" alt="User Avatar" id="user-avatar">
                        </button>
                        <div class="user-dropdown hidden" id="user-dropdown">
                            <div class="user-info">
                                <img src="" alt="User Avatar" id="dropdown-avatar">
                                <div>
                                    <div class="user-name" id="dropdown-name"></div>
                                    <div class="user-role" id="dropdown-role"></div>
                                </div>
                            </div>
                            <hr>
                            <a href="#" data-page="profile"><i class="fas fa-user"></i> Profile</a>
                            <a href="#" data-page="settings"><i class="fas fa-cog"></i> Settings</a>
                            <a href="#" id="logout-btn"><i class="fas fa-sign-out-alt"></i> Logout</a>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-content">
                <nav class="sidebar-nav">
                    <a href="#" class="nav-item active" data-page="dashboard">
                        <i class="fas fa-home"></i>
                        <span>Dashboard</span>
                    </a>
                    <a href="#" class="nav-item" data-page="gallery">
                        <i class="fas fa-images"></i>
                        <span>Gallery</span>
                    </a>
                    <a href="#" class="nav-item" data-page="upload">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <span>Upload</span>
                    </a>
                    <a href="#" class="nav-item" data-page="albums">
                        <i class="fas fa-folder"></i>
                        <span>Albums</span>
                    </a>
                    <a href="#" class="nav-item" data-page="search">
                        <i class="fas fa-search"></i>
                        <span>Advanced Search</span>
                    </a>
                    <a href="#" class="nav-item admin-only" data-page="ai-generation">
                        <i class="fas fa-robot"></i>
                        <span>AI Generation</span>
                    </a>
                    <a href="#" class="nav-item admin-only" data-page="admin">
                        <i class="fas fa-shield-alt"></i>
                        <span>Admin</span>
                    </a>
                </nav>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard Page -->
            <div id="dashboard-page" class="page active">
                <div class="page-header">
                    <h1>Dashboard</h1>
                    <div class="page-actions">
                        <button class="btn btn--primary" data-page="upload">
                            <i class="fas fa-plus"></i> Upload Images
                        </button>
                    </div>
                </div>
                
                <div class="dashboard-stats">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-images"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-number" id="total-images">0</div>
                            <div class="stat-label">Total Images</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-eye"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-number" id="total-views">0</div>
                            <div class="stat-label">Total Views</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-heart"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-number" id="total-likes">0</div>
                            <div class="stat-label">Total Likes</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-hdd"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-number" id="storage-used">0</div>
                            <div class="stat-label">Storage Used</div>
                        </div>
                    </div>
                </div>

                <div class="dashboard-content">
                    <div class="dashboard-section">
                        <h2>Recent Uploads</h2>
                        <div class="recent-images" id="recent-images"></div>
                    </div>
                    
                    <div class="dashboard-section">
                        <h2>Popular Images</h2>
                        <div class="popular-images" id="popular-images"></div>
                    </div>
                </div>
            </div>

            <!-- Gallery Page -->
            <div id="gallery-page" class="page hidden">
                <div class="page-header">
                    <h1>Gallery</h1>
                    <div class="gallery-controls">
                        <div class="view-modes">
                            <button class="btn btn--outline btn--sm view-mode active" data-view="grid">
                                <i class="fas fa-th"></i>
                            </button>
                            <button class="btn btn--outline btn--sm view-mode" data-view="list">
                                <i class="fas fa-list"></i>
                            </button>
                        </div>
                        <select class="form-control" id="gallery-sort">
                            <option value="newest">Newest First</option>
                            <option value="oldest">Oldest First</option>
                            <option value="popular">Most Popular</option>
                            <option value="views">Most Viewed</option>
                        </select>
                    </div>
                </div>
                
                <div class="gallery-filters">
                    <div class="filter-tags" id="filter-tags"></div>
                </div>
                
                <div class="gallery-grid" id="gallery-container"></div>
            </div>

            <!-- Upload Page -->
            <div id="upload-page" class="page hidden">
                <div class="page-header">
                    <h1>Upload Images</h1>
                </div>
                
                <div class="upload-container">
                    <div class="upload-zone" id="upload-zone">
                        <div class="upload-icon">
                            <i class="fas fa-cloud-upload-alt"></i>
                        </div>
                        <h3>Drag & Drop Images Here</h3>
                        <p>or <button class="btn btn--primary" id="file-select-btn">Choose Files</button></p>
                        <input type="file" id="file-input" multiple accept="image/*" style="display: none;">
                        <div class="upload-formats">
                            <small>Supports: JPEG, PNG, GIF, WebP, AVIF</small>
                        </div>
                    </div>
                    
                    <div class="upload-queue" id="upload-queue"></div>
                </div>
            </div>

            <!-- Image Editor Modal -->
            <div id="image-editor-modal" class="modal hidden">
                <div class="modal-backdrop"></div>
                <div class="modal-content image-editor-content">
                    <div class="editor-header">
                        <h2>Edit Image</h2>
                        <button class="btn btn--outline btn--sm" id="editor-close">
                            <i class="fas fa-times"></i> Close
                        </button>
                    </div>
                    <div class="editor-body">
                        <div class="editor-canvas-container">
                            <canvas id="editor-canvas"></canvas>
                        </div>
                        <div class="editor-controls">
                            <div class="editor-tabs">
                                <button class="editor-tab active" data-tab="crop">Crop</button>
                                <button class="editor-tab" data-tab="resize">Resize</button>
                                <button class="editor-tab" data-tab="filters">Filters</button>
                                <button class="editor-tab" data-tab="adjust">Adjust</button>
                            </div>
                            
                            <div class="editor-panel active" id="crop-panel">
                                <h3>Crop Image</h3>
                                <div class="crop-controls">
                                    <div class="form-group">
                                        <label>Preset Ratios</label>
                                        <select id="crop-ratio" class="form-control">
                                            <option value="free">Free</option>
                                            <option value="1:1">Square (1:1)</option>
                                            <option value="4:3">4:3</option>
                                            <option value="16:9">16:9</option>
                                            <option value="3:2">3:2</option>
                                        </select>
                                    </div>
                                    <div class="crop-buttons">
                                        <button class="btn btn--outline" id="crop-reset">Reset</button>
                                        <button class="btn btn--primary" id="crop-apply">Apply Crop</button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="editor-panel" id="resize-panel">
                                <h3>Resize Image</h3>
                                <div class="resize-controls">
                                    <div class="form-group">
                                        <label>Width (px)</label>
                                        <input type="number" id="resize-width" class="form-control" min="1" max="4000">
                                    </div>
                                    <div class="form-group">
                                        <label>Height (px)</label>
                                        <input type="number" id="resize-height" class="form-control" min="1" max="4000">
                                    </div>
                                    <div class="form-group">
                                        <label>
                                            <input type="checkbox" id="maintain-aspect" checked> Maintain Aspect Ratio
                                        </label>
                                    </div>
                                    <div class="resize-buttons">
                                        <button class="btn btn--outline" id="resize-reset">Reset</button>
                                        <button class="btn btn--primary" id="resize-apply">Apply Resize</button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="editor-panel" id="filters-panel">
                                <h3>Apply Filters</h3>
                                <div class="filter-grid">
                                    <button class="filter-btn" data-filter="none">Original</button>
                                    <button class="filter-btn" data-filter="grayscale">Grayscale</button>
                                    <button class="filter-btn" data-filter="sepia">Sepia</button>
                                    <button class="filter-btn" data-filter="vintage">Vintage</button>
                                    <button class="filter-btn" data-filter="blur">Blur</button>
                                    <button class="filter-btn" data-filter="sharpen">Sharpen</button>
                                    <button class="filter-btn" data-filter="brightness">Bright</button>
                                    <button class="filter-btn" data-filter="contrast">High Contrast</button>
                                </div>
                            </div>
                            
                            <div class="editor-panel" id="adjust-panel">
                                <h3>Adjustments</h3>
                                <div class="adjust-controls">
                                    <div class="form-group">
                                        <label>Brightness: <span id="brightness-value">0</span></label>
                                        <input type="range" id="brightness" class="form-control" min="-100" max="100" value="0">
                                    </div>
                                    <div class="form-group">
                                        <label>Contrast: <span id="contrast-value">0</span></label>
                                        <input type="range" id="contrast" class="form-control" min="-100" max="100" value="0">
                                    </div>
                                    <div class="form-group">
                                        <label>Saturation: <span id="saturation-value">0</span></label>
                                        <input type="range" id="saturation" class="form-control" min="-100" max="100" value="0">
                                    </div>
                                    <div class="adjust-buttons">
                                        <button class="btn btn--outline" id="adjust-reset">Reset</button>
                                        <button class="btn btn--primary" id="adjust-apply">Apply</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="editor-footer">
                        <button class="btn btn--outline" id="editor-cancel">Cancel</button>
                        <button class="btn btn--primary" id="editor-save">Save Changes</button>
                    </div>
                </div>
            </div>

            <!-- Albums Page -->
            <div id="albums-page" class="page hidden">
                <div class="page-header">
                    <h1>Albums</h1>
                    <div class="page-actions">
                        <button class="btn btn--primary" id="create-album-btn">
                            <i class="fas fa-plus"></i> Create Album
                        </button>
                    </div>
                </div>
                
                <div class="albums-grid" id="albums-container"></div>
            </div>

            <!-- Search Page -->
            <div id="search-page" class="page hidden">
                <div class="page-header">
                    <h1>Advanced Search</h1>
                </div>
                
                <div class="search-container">
                    <div class="search-form">
                        <div class="search-input-group">
                            <input type="text" class="form-control" id="advanced-search-input" placeholder="Search images, tags, descriptions...">
                            <button class="btn btn--primary" id="advanced-search-btn">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                        
                        <div class="search-filters">
                            <div class="filter-group">
                                <label class="form-label">Tags</label>
                                <input type="text" class="form-control" id="tag-filter" placeholder="nature, landscape, urban...">
                            </div>
                            <div class="filter-group">
                                <label class="form-label">Uploader</label>
                                <select class="form-control" id="uploader-filter">
                                    <option value="">All Users</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label class="form-label">Date Range</label>
                                <input type="date" class="form-control" id="date-from">
                                <input type="date" class="form-control" id="date-to">
                            </div>
                            <div class="filter-group">
                                <label class="form-label">AI Generated</label>
                                <select class="form-control" id="ai-filter">
                                    <option value="">All Images</option>
                                    <option value="true">AI Generated Only</option>
                                    <option value="false">Original Images Only</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="ai-search-section">
                            <h3>AI Similarity Search</h3>
                            <p>Upload an image to find similar images using AI-powered vector search</p>
                            <div class="similarity-upload">
                                <input type="file" id="similarity-input" accept="image/*" style="display: none;">
                                <button class="btn btn--outline" id="similarity-btn">
                                    <i class="fas fa-image"></i> Upload Reference Image
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="search-results" id="search-results"></div>
                </div>
            </div>

            <!-- AI Generation Page -->
            <div id="ai-generation-page" class="page hidden admin-only">
                <div class="page-header">
                    <h1>AI Image Generation</h1>
                </div>
                
                <div class="ai-generation-container">
                    <div class="generation-form">
                        <div class="form-group">
                            <label class="form-label">Prompt</label>
                            <textarea class="form-control" id="ai-prompt" rows="3" placeholder="Describe the image you want to generate..."></textarea>
                        </div>
                        <div class="generation-settings">
                            <div class="form-group">
                                <label class="form-label">Model</label>
                                <select class="form-control" id="ai-model">
                                    <option value="sd-1.5">Stable Diffusion v1.5</option>
                                    <option value="sd-2.1">Stable Diffusion v2.1</option>
                                    <option value="sdxl">Stable Diffusion XL</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Steps: <span id="steps-value">25</span></label>
                                <input type="range" class="form-control" id="ai-steps" min="10" max="50" value="25">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Guidance: <span id="guidance-value">7.5</span></label>
                                <input type="range" class="form-control" id="ai-guidance" min="1" max="20" value="7.5" step="0.5">
                            </div>
                        </div>
                        <button class="btn btn--primary btn--full-width" id="generate-btn">
                            <i class="fas fa-magic"></i> Generate Image
                        </button>
                    </div>
                    
                    <div class="generation-results" id="generation-results"></div>
                </div>
            </div>

            <!-- Admin Page -->
            <div id="admin-page" class="page hidden admin-only">
                <div class="page-header">
                    <h1>Admin Dashboard</h1>
                </div>
                
                <div class="admin-content">
                    <div class="admin-stats">
                        <div class="stat-card">
                            <div class="stat-content">
                                <div class="stat-number" id="admin-total-users">0</div>
                                <div class="stat-label">Total Users</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-content">
                                <div class="stat-number" id="admin-processing-queue">0</div>
                                <div class="stat-label">Processing Queue</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-content">
                                <div class="stat-number" id="admin-ai-generated">0</div>
                                <div class="stat-label">AI Generated</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="admin-sections">
                        <div class="admin-section">
                            <h2>User Management</h2>
                            <div class="user-list" id="user-list"></div>
                        </div>
                        
                        <div class="admin-section">
                            <h2>Content Moderation</h2>
                            <div class="moderation-queue" id="moderation-queue">
                                <p>No items pending moderation</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Image Modal -->
    <div id="image-modal" class="modal hidden">
        <div class="modal-backdrop"></div>
        <div class="modal-content image-modal-content">
            <button class="modal-close" id="modal-close">
                <i class="fas fa-times"></i>
            </button>
            <div class="image-modal-body">
                <div class="image-display">
                    <img src="" alt="" id="modal-image">
                </div>
                <div class="image-sidebar">
                    <div class="image-info">
                        <h2 id="modal-title"></h2>
                        <p id="modal-caption"></p>
                        <div class="image-meta">
                            <div class="meta-item">
                                <span class="meta-label">Uploader:</span>
                                <span id="modal-uploader"></span>
                            </div>
                            <div class="meta-item">
                                <span class="meta-label">Uploaded:</span>
                                <span id="modal-date"></span>
                            </div>
                            <div class="meta-item">
                                <span class="meta-label">Size:</span>
                                <span id="modal-size"></span>
                            </div>
                            <div class="meta-item">
                                <span class="meta-label">Views:</span>
                                <span id="modal-views"></span>
                            </div>
                        </div>
                        <div class="image-tags" id="modal-tags"></div>
                    </div>
                    <div class="image-actions">
                        <button class="btn btn--outline btn--full-width" id="like-btn">
                            <i class="fas fa-heart"></i> <span id="like-count">0</span>
                        </button>
                        <button class="btn btn--outline btn--full-width" id="download-btn">
                            <i class="fas fa-download"></i> Download
                        </button>
                        <button class="btn btn--outline btn--full-width" id="share-btn">
                            <i class="fas fa-share"></i> Share
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div id="toast-container" class="toast-container"></div>

    <script src="api.js"></script>
    <script src="app.js"></script>
</body>
</html>